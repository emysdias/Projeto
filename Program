package application;





import javax.swing.JOptionPane;
import java.util.ArrayList;
import java.util.List;
import java.util.Locale;
import java.util.Scanner;
import entities.Despesas;
import entities.Financiamento;
import entities.Manutencao;
import entities.Multas;
import entities.Seguro;
import entities.Abastecimento;
import entities.Impostos;

public class Program {

	public static void main(String[] args) {

		ArrayList<Automovel> car = new ArrayList<>();
		int a=0,b=0,c=0;
		int verify=0;
		int saida = 1;
		
		for(;saida!=0;){
			int leitura = Integer.parseInt(JOptionPane.showInputDialog("1   Cadastro do veículo\n2  Despesas\n3  Relatórios\n0  Sair"));
		switch (leitura){
			case 0:
			JOptionPane.showMessageDialog(null,"Saindo...");
			saida = 0;
			break;

			case 1: 
				try{
				String marca = JOptionPane.showInputDialog("Digite a marca:");
				String modelo = JOptionPane.showInputDialog("Digite o modelo:");
				int anoDeModelo = Integer.parseInt(JOptionPane.showInputDialog("Digite ano de modelo (inteiro):"));
				int anoDeFabricacao = Integer.parseInt(JOptionPane.showInputDialog("Digite ano de fabricação (inteiro):"));
				float motorizacao = Float.parseFloat(JOptionPane.showInputDialog("Digite a motorização (float):"));
				String cor = JOptionPane.showInputDialog("Digite a cor:");
				String numPlaca = JOptionPane.showInputDialog("Digite o número da placa:");
				int numRenavam = Integer.parseInt(JOptionPane.showInputDialog("Digite o número da Renavam (inteiro):"));				
				int resp = JOptionPane.showConfirmDialog(null, "O veículo é flex? ");
			

				if(resp==1){

					String combustivel1 = JOptionPane.showInputDialog("Digite o tipo de combustível:");
					Automovel carro = new Automovel(marca, modelo, anoDeFabricacao, anoDeModelo, motorizacao,
							combustivel1, cor, numPlaca, numRenavam);
					car.add(carro);
					//JOptionPane.showMessageDialog(null,car.get(car.size()-1).toString());

				}else if(resp==0){
					String combustivel1 = JOptionPane.showInputDialog("Digite o tipo de combustível 1:");
					String combustivel2 = JOptionPane.showInputDialog("Digite o tipo de combustível 2:");

					Automovel carro = new Automovel(marca, modelo, anoDeFabricacao, anoDeModelo, motorizacao,
							combustivel1, cor, numPlaca, numRenavam);
					carro.setCombustivel2(combustivel2);
					car.add(carro);
					//JOptionPane.showMessageDialog(null,car.get(car.size()-1).toString());
				}			
				verify++;
				}catch(java.lang.NumberFormatException e){
					JOptionPane.showMessageDialog(null,"Digite o formato pedido");
				}

				break;

				

			case 2:
				
				if(verify==0){
					JOptionPane.showMessageDialog(null,"Cadastre um carro primeiro");
					break;
				}
				
				int desp = Integer.parseInt(JOptionPane.showInputDialog("1  Despesa de automóvel\n2  Despesa de abastecimento\n3  Despesas de manutenção\n"));
				switch (desp){		

				case 1:
					int op = Integer.parseInt(JOptionPane.showInputDialog("1  Imposto\n2  Seguro\n3  Financiamento\n4  Multas\n"));
					
					String type = JOptionPane.showInputDialog("Digite o nome da despesa:");
					int year = Integer.parseInt(JOptionPane.showInputDialog("Digite o ano da despesa (inteiro):"));
					double totalValue2 = Double.parseDouble(JOptionPane.showInputDialog("Digite o valor total:"));
					switch(op){
						case 1:
							Automovel imp = car.get(car.size()-1);
							imp.addImpostos(new Impostos(year,totalValue2,type));
							car.add(car.size()-1,imp);
							break;
						case 2:
							Automovel seg = car.get(car.size()-1);
							seg.addSeguro(new Seguro(year,totalValue2,type));
							car.add(car.size()-1,seg);
							break;
						case 3:
							Automovel fin = car.get(car.size()-1);
							fin.addFinanciamento(new Financiamento(year,totalValue2,type));
							car.add(car.size()-1,fin);
							System.out.println(car.get(car.size()-1).getFinanciamento());
							break;
						case 4:
							Automovel mul = car.get(car.size()-1);
							mul.addMultas(new Multas(year,totalValue2,type));
							car.add(car.size()-1,mul);
							break;
						default:
							JOptionPane.showMessageDialog(null,"Digite um número válido");
							break;
					}
					Automovel auto = car.get(car.size()-1);
					auto.addDespesas(new Despesas(op,year,totalValue2,type));
					car.add(car.size()-1,auto);
					a++;

					break;

				case 2:
					String data = JOptionPane.showInputDialog("Digite a data do abastecimento:");
					String combustivel1 = JOptionPane.showInputDialog("Digite o nome do combustível:");
					float quilometragem1 = Float.parseFloat(JOptionPane.showInputDialog("Digite a quilometragem:"));
					float valorLitro = Float.parseFloat(JOptionPane.showInputDialog("Digite o valor do litro:"));
					float valorTotal = Float.parseFloat(JOptionPane.showInputDialog("Digite o valor total abastecido:"));
					int tanque = JOptionPane.showConfirmDialog(null, "Tanque cheio? ");
					
					Automovel abast = car.get(car.size()-1);
					abast.addAbastecimento(new Abastecimento(data,combustivel1,quilometragem1,valorLitro,valorTotal,tanque));
					car.add(car.size()-1,abast);
					//System.out.println(car.get(car.size()-1).getAbastecimento());
					b++;
					break;
				
				case 3:
					String category3 = JOptionPane.showInputDialog("Digite o nome da despesa de manutenção:");
					float quilometragem2 = Float.parseFloat(JOptionPane.showInputDialog("Digite a quilometragem:"));
					double totalValue3 = Double.parseDouble(JOptionPane.showInputDialog("Digite o valor total:"));
					
					Automovel manutencao = car.get(car.size()-1);
					manutencao.addManutencao(new Manutencao(totalValue3, category3, quilometragem2));
					car.add(car.size()-1,manutencao);
					c++;
					//System.out.println(car.get(car.size()-1).getManutencao());
					break;
					
				default:
					JOptionPane.showMessageDialog(null,"Digite uma opção válida");
					break;
				}		

				break;

			case 3:
				
				if(verify==0){
					JOptionPane.showMessageDialog(null,"Cadastre um carro primeiro");
					break;
				}
				
				int select = Integer.parseInt(JOptionPane.showInputDialog("1  Relatório Simples\n2  Relatório de desempenho\n"));
			
				switch(select){
					case 1:
							
						int valor = Integer.parseInt(JOptionPane.showInputDialog("Digite o número do vetor para relatório"));
						
						if(a == 0 && b == 0 && c == 0){
							JOptionPane.showMessageDialog(null,"Cadastre alguma despesa primeiro");
							break;
						}else
							if(c!=0){
							JOptionPane.showMessageDialog(null,car.get(valor).getManutencao());
							}
							if(b!=0){
							JOptionPane.showMessageDialog(null,car.get(valor).getAbastecimento());
							}
							if(a!=0){
							JOptionPane.showMessageDialog(null,car.get(valor).getDespesas());
							}
						
						
						break;

					case 2:
						break;
					default:
						JOptionPane.showMessageDialog(null,"Digite uma opção válida");
						break;					
				}

				break;

				
			default:
				JOptionPane.showMessageDialog(null,"Digite uma opção válida");
				break;
		}

		}



}

}
